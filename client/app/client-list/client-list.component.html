<!-- <div style="display: flex" *ngFor="let client of clients">
  <div style="flex: 1">{{client.clientNumber}}</div>
  <div style="flex: 1">{{client.firstName}}</div>
  <div style="flex: 1">{{client.middleName}}</div>
  <div style="flex: 1">{{client.lastName}}</div>
  <div style="flex: 1"><client-list-child [clientNumber]="client.clientNumber"></client-list-child></div>
</div> -->

<!-- <div class="">
  <mat-table #table [dataSource]="dataSource">
    <ng-container cdkColumnDef="clientNumber">
      <mat-header-cell>Client Number</mat-header-cell>
      <mat-cell>{{ client.clientNumber }}</mat-cell>
    </ng-container>
  </mat-table>
</div> -->

<div>
  <button mat-raised-button color="accent" routerLink="/add-client">Add Client</button>
</div>
<div style="display: flex; flex-wrap: wrap;" class="container" >
  <div style="display: flex">
    <mat-form-field>
      <input matInput placeholder="seach" #txtClientFirstName style="flex: 1" [(ngModel)]="searchTerm" (ngModelChange)="search()">
    </mat-form-field>
  </div>

    <!-- <mat-card style="flex: 1; max-width: 30rem; border-radius: 0px;" *ngFor="let client of clients" (click)="details(client._id)"> -->
    <mat-card style="flex: 1; max-width: 30rem; border-radius: 0px;" *ngFor="let client of clients">
        <!-- <mat-card-title>{{ client.lastName }}, {{ client.firstName }}</mat-card-title> -->
      <mat-card-title>
          <div fxLayout="row" fxLayoutAlign="space-between">
            <div fxFlex="50">
              <img (click)="details(client._id)" style="height: 50px; border-radius: 50%;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Icons8_flat_businessman.svg/1024px-Icons8_flat_businessman.svg.png">
            </div>
            <div fxFlex="50" fxLayoutAlign="end">{{ client.clientNumber }}</div>
          </div>
      </mat-card-title>

      <mat-card-content>

        <div fxLayout="column">

          <div fxLayout="row">
            <span class="mat-span-title">{{ client.lastName }}</span>
          </div>
          <div fxLayout="row">
              <span>{{ client.firstName }} - {{ client.middleName }}</span>
          </div>
  
          <div fxLayout="row">
            <div fxFlex="50">
              <client-list-child [clientNumber]="client.clientNumber" (load)="client.loans = $event"></client-list-child>
              Current Loans: {{ client.loans }}
            </div>
            <div fxFlex="50" fxLayoutAlign="end">
                <mat-icon matSuffix (click)="showLoans(client)">receipt</mat-icon>
            </div> 
          </div>

        </div>
    
      </mat-card-content>
      <!-- <mat-card-actions> -->
          <!-- <client-list-child [clientNumber]="client.clientNumber"></client-list-child> -->
          <!-- <button mat-button (click)="details(client._id)">Details</button> -->
          <!-- <button mat-button (click)="showLoans(client)">Loans</button> -->
      <!-- </mat-card-actions> -->
    </mat-card>  
</div>
